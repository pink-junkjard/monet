<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>monet.canvas documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Monet</span> <span class="project-version">0.3.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="GUIDE.html"><div class="inner"><span>Documentation Guide</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>monet</span></div></div></li><li class="depth-2 branch current"><a href="monet.canvas.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>canvas</span></div></a></li><li class="depth-2 branch"><a href="monet.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><a href="monet.geometry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>geometry</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="monet.canvas.html#var-add-entity"><div class="inner"><span>add-entity</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-alpha"><div class="inner"><span>alpha</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-arc"><div class="inner"><span>arc</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-begin-path"><div class="inner"><span>begin-path</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-bezier-curve-to"><div class="inner"><span>bezier-curve-to</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-circle"><div class="inner"><span>circle</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-clear.21"><div class="inner"><span>clear!</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-clear-rect"><div class="inner"><span>clear-rect</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-clip"><div class="inner"><span>clip</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-close-path"><div class="inner"><span>close-path</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-composition-operation"><div class="inner"><span>composition-operation</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-draw-image"><div class="inner"><span>draw-image</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-draw-loop"><div class="inner"><span>draw-loop</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-ellipse"><div class="inner"><span>ellipse</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-entity"><div class="inner"><span>entity</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-fill"><div class="inner"><span>fill</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-fill-rect"><div class="inner"><span>fill-rect</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-fill-style"><div class="inner"><span>fill-style</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-font-style"><div class="inner"><span>font-style</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-get-context"><div class="inner"><span>get-context</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-get-entity"><div class="inner"><span>get-entity</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-get-pixel"><div class="inner"><span>get-pixel</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-init"><div class="inner"><span>init</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-line-to"><div class="inner"><span>line-to</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-monet-canvas"><div class="inner"><span>monet-canvas</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-move-to"><div class="inner"><span>move-to</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-quadratic-curve-to"><div class="inner"><span>quadratic-curve-to</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-rect"><div class="inner"><span>rect</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-remove-entity"><div class="inner"><span>remove-entity</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-restart"><div class="inner"><span>restart</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-restore"><div class="inner"><span>restore</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-rotate"><div class="inner"><span>rotate</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-rounded-rect"><div class="inner"><span>rounded-rect</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-save"><div class="inner"><span>save</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-scale"><div class="inner"><span>scale</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-start-updating"><div class="inner"><span>start-updating</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-stop"><div class="inner"><span>stop</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-stop-updating"><div class="inner"><span>stop-updating</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-stroke"><div class="inner"><span>stroke</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-stroke-cap"><div class="inner"><span>stroke-cap</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-stroke-join"><div class="inner"><span>stroke-join</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-stroke-rect"><div class="inner"><span>stroke-rect</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-stroke-style"><div class="inner"><span>stroke-style</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-stroke-width"><div class="inner"><span>stroke-width</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-text"><div class="inner"><span>text</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-text-align"><div class="inner"><span>text-align</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-text-baseline"><div class="inner"><span>text-baseline</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-transform"><div class="inner"><span>transform</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-translate"><div class="inner"><span>translate</span></div></a></li><li class="depth-1"><a href="monet.canvas.html#var-update-entity"><div class="inner"><span>update-entity</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">monet.canvas</h1><div class="doc"><pre class="plaintext">The canvas namespace provides functions which can be used for
rendering graphs, game graphics, art, or othe visual images
on the fly.

See <a href="http://www.w3.org/TR/html5/scripting-1.html#the-canvas-element">http://www.w3.org/TR/html5/scripting-1.html#the-canvas-element</a> and
<a href="http://www.w3.org/TR/2dcontext/">http://www.w3.org/TR/2dcontext/</a></pre></div><div class="public anchor" id="var-add-entity"><h3>add-entity</h3><div class="usage"><code>(add-entity mc k ent)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-alpha"><h3>alpha</h3><div class="usage"><code>(alpha ctx a)</code></div><div class="doc"><pre class="plaintext">Global Alpha value that is applied to shapes and images before they are
composited onto the canvas. Default 1.0 (opaque).</pre></div></div><div class="public anchor" id="var-arc"><h3>arc</h3><div class="usage"><code>(arc ctx {:keys [x y r start-angle end-angle counter-clockwise?]})</code></div><div class="doc"><pre class="plaintext">Draws an arc at position (x, y) with radius r, beginning at start-angle,
finishing at end-angle, in the direction specified.</pre></div></div><div class="public anchor" id="var-begin-path"><h3>begin-path</h3><div class="usage"><code>(begin-path ctx)</code></div><div class="doc"><pre class="plaintext">Starts a new path by resetting the list of sub-paths.
Call this method when you want to create a new path.</pre></div></div><div class="public anchor" id="var-bezier-curve-to"><h3>bezier-curve-to</h3><div class="usage"><code>(bezier-curve-to ctx cp1x cp1y cp2x cp2y x y)</code><code>(bezier-curve-to ctx {:keys [cp1x cp1y cp2x cp2y x y]})</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-circle"><h3>circle</h3><div class="usage"><code>(circle ctx {:keys [x y r]})</code></div><div class="doc"><pre class="plaintext">Draws a circle at position (x, y) with radius r
</pre></div></div><div class="public anchor" id="var-clear.21"><h3>clear!</h3><div class="usage"><code>(clear! mc)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-clear-rect"><h3>clear-rect</h3><div class="usage"><code>(clear-rect ctx {:keys [x y w h]})</code></div><div class="doc"><pre class="plaintext">Sets all pixels in the rectangle defined by starting point (x, y)
and size (w, h) to transparent black.</pre></div></div><div class="public anchor" id="var-clip"><h3>clip</h3><div class="usage"><code>(clip ctx)</code></div><div class="doc"><pre class="plaintext">Further constrains the clipping region to the current path.
</pre></div></div><div class="public anchor" id="var-close-path"><h3>close-path</h3><div class="usage"><code>(close-path ctx)</code></div><div class="doc"><pre class="plaintext">Tries to draw a straight line from the current point to the start.
If the shape has already been closed or has only one point, this
function does nothing.</pre></div></div><div class="public anchor" id="var-composition-operation"><h3>composition-operation</h3><div class="usage"><code>(composition-operation ctx operation)</code></div><div class="doc"><pre class="plaintext">With Global Alpha applied this sets how shapes and images are drawn
onto the existing bitmap. Possible values (as string or keyword):
source-atop, source-in, source-out, source-over (default),
destination-atop, destination-in, destination-out, destination-over,
lighter, darker, copy, xor</pre></div></div><div class="public anchor" id="var-draw-image"><h3>draw-image</h3><div class="usage"><code>(draw-image ctx img x y)</code><code>(draw-image ctx img {:keys [x y w h sx sy sw sh dx dy dw dh], :as params})</code></div><div class="doc"><pre class="plaintext">Draws the image onto the canvas at the given position.
If a map of params is given, the number of entries is used to
determine the underlying call to make.</pre></div></div><div class="public anchor" id="var-draw-loop"><h3>draw-loop</h3><div class="usage"><code>(draw-loop {:keys [canvas updating? ctx active entities last-frame-time], :as mc})</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-ellipse"><h3>ellipse</h3><div class="usage"><code>(ellipse ctx {:keys [x y rw rh]})</code></div><div class="doc"><pre class="plaintext">Draws an ellipse at position (x, y) with radius (rw, rh)
</pre></div></div><div class="public anchor" id="var-entity"><h3>entity</h3><div class="usage"><code>(entity v update draw)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-fill"><h3>fill</h3><div class="usage"><code>(fill ctx)</code></div><div class="doc"><pre class="plaintext">Fills the subpaths with the current fill style.
</pre></div></div><div class="public anchor" id="var-fill-rect"><h3>fill-rect</h3><div class="usage"><code>(fill-rect ctx {:keys [x y w h]})</code></div><div class="doc"><pre class="plaintext">Draws a filled rectangle at (x, y) position whose size is determined
by width w and height h.</pre></div></div><div class="public anchor" id="var-fill-style"><h3>fill-style</h3><div class="usage"><code>(fill-style ctx color)</code></div><div class="doc"><pre class="plaintext">Color or style to use inside shapes. Default #000 (black).
</pre></div></div><div class="public anchor" id="var-font-style"><h3>font-style</h3><div class="usage"><code>(font-style ctx font)</code></div><div class="doc"><pre class="plaintext">Sets the font. Default value 10px sans-serif.
</pre></div></div><div class="public anchor" id="var-get-context"><h3>get-context</h3><div class="usage"><code>(get-context canvas type)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-get-entity"><h3>get-entity</h3><div class="usage"><code>(get-entity mc k)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-get-pixel"><h3>get-pixel</h3><div class="usage"><code>(get-pixel ctx x y)</code></div><div class="doc"><pre class="plaintext">Gets the pixel value as a hash map of RGBA values
</pre></div></div><div class="public anchor" id="var-init"><h3>init</h3><div class="usage"><code>(init canvas &amp; [context-type])</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-line-to"><h3>line-to</h3><div class="usage"><code>(line-to ctx x y)</code></div><div class="doc"><pre class="plaintext">Connects the last point in the subpath to the x, y coordinates with a
straight line.</pre></div></div><div class="public anchor" id="var-monet-canvas"><h3>monet-canvas</h3><div class="usage"><code>(monet-canvas elem context-type)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-move-to"><h3>move-to</h3><div class="usage"><code>(move-to ctx x y)</code></div><div class="doc"><pre class="plaintext">Moves the starting point of a new subpath to the (x, y) coordinates.
</pre></div></div><div class="public anchor" id="var-quadratic-curve-to"><h3>quadratic-curve-to</h3><div class="usage"><code>(quadratic-curve-to ctx cpx cpy x y)</code><code>(quadratic-curve-to ctx {:keys [cpx cpy x y]})</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-rect"><h3>rect</h3><div class="usage"><code>(rect ctx {:keys [x y w h]})</code></div><div class="doc"><pre class="plaintext">Path for a rectangle at position (x, y) with a size (w, h).
</pre></div></div><div class="public anchor" id="var-remove-entity"><h3>remove-entity</h3><div class="usage"><code>(remove-entity mc k)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-restart"><h3>restart</h3><div class="usage"><code>(restart mc)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-restore"><h3>restore</h3><div class="usage"><code>(restore ctx)</code></div><div class="doc"><pre class="plaintext">Restores the drawing style state to the last element on the 'state stack'
saved by save.</pre></div></div><div class="public anchor" id="var-rotate"><h3>rotate</h3><div class="usage"><code>(rotate ctx angle)</code></div><div class="doc"><pre class="plaintext">Rotate the context 
</pre></div></div><div class="public anchor" id="var-rounded-rect"><h3>rounded-rect</h3><div class="usage"><code>(rounded-rect ctx {:keys [x y w h r]})</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-save"><h3>save</h3><div class="usage"><code>(save ctx)</code></div><div class="doc"><pre class="plaintext">Saves the current drawing style state using a stack so you can revert
any change you make to it using restore.</pre></div></div><div class="public anchor" id="var-scale"><h3>scale</h3><div class="usage"><code>(scale ctx x y)</code></div><div class="doc"><pre class="plaintext">Scales the context by a floating-point factor in each direction
</pre></div></div><div class="public anchor" id="var-start-updating"><h3>start-updating</h3><div class="usage"><code>(start-updating mc)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-stop"><h3>stop</h3><div class="usage"><code>(stop mc)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-stop-updating"><h3>stop-updating</h3><div class="usage"><code>(stop-updating mc)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-stroke"><h3>stroke</h3><div class="usage"><code>(stroke ctx)</code></div><div class="doc"><pre class="plaintext">Strokes the subpaths with the current stroke style.
</pre></div></div><div class="public anchor" id="var-stroke-cap"><h3>stroke-cap</h3><div class="usage"><code>(stroke-cap ctx cap)</code></div><div class="doc"><pre class="plaintext">Sets the line cap. Possible values (as string or keyword):
butt (default), round, square</pre></div></div><div class="public anchor" id="var-stroke-join"><h3>stroke-join</h3><div class="usage"><code>(stroke-join ctx join)</code></div><div class="doc"><pre class="plaintext">Can be set, to change the line join style. Possible values (as string
or keyword): bevel, round, and miter. Other values are ignored.</pre></div></div><div class="public anchor" id="var-stroke-rect"><h3>stroke-rect</h3><div class="usage"><code>(stroke-rect ctx {:keys [x y w h]})</code></div><div class="doc"><pre class="plaintext">Paints a rectangle which has a starting point at (x, y) and has a
w width and an h height onto the canvas, using the current stroke
style.</pre></div></div><div class="public anchor" id="var-stroke-style"><h3>stroke-style</h3><div class="usage"><code>(stroke-style ctx color)</code></div><div class="doc"><pre class="plaintext">Color or style to use for the lines around shapes. Default #000 (black).
</pre></div></div><div class="public anchor" id="var-stroke-width"><h3>stroke-width</h3><div class="usage"><code>(stroke-width ctx w)</code></div><div class="doc"><pre class="plaintext">Sets the line width. Default 1.0
</pre></div></div><div class="public anchor" id="var-text"><h3>text</h3><div class="usage"><code>(text ctx {:keys [text x y]})</code></div><div class="doc"><pre class="plaintext">Paints the given text at a starting point at (x, y), using the
current fill style.</pre></div></div><div class="public anchor" id="var-text-align"><h3>text-align</h3><div class="usage"><code>(text-align ctx alignment)</code></div><div class="doc"><pre class="plaintext">Sets the text alignment attribute. Possible values (specified
as a string or keyword): start (default), end, left, right or
center.</pre></div></div><div class="public anchor" id="var-text-baseline"><h3>text-baseline</h3><div class="usage"><code>(text-baseline ctx alignment)</code></div><div class="doc"><pre class="plaintext">Sets the text baseline attribute. Possible values (specified
as a string or keyword): top, hanging, middle, alphabetic (default),
ideographic, bottom</pre></div></div><div class="public anchor" id="var-transform"><h3>transform</h3><div class="usage"><code>(transform ctx m11 m12 m21 m22 dx dy)</code><code>(transform ctx {:keys [m11 m12 m21 m22 dx dy]})</code></div><div class="doc"><pre class="plaintext">Multiplies a custom transformation matrix to the existing
HTML5 canvas transformation according to the follow convention:

[ x']   [ m11 m21 dx ] [ x ]
[ y'] = [ m12 m22 dy ] [ y ]
[ 1 ]   [ 0   0   1  ] [ 1 ]</pre></div></div><div class="public anchor" id="var-translate"><h3>translate</h3><div class="usage"><code>(translate ctx x y)</code></div><div class="doc"><pre class="plaintext">Moves the origin point of the context to (x, y).
</pre></div></div><div class="public anchor" id="var-update-entity"><h3>update-entity</h3><div class="usage"><code>(update-entity mc k func &amp; extra)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></body></html>